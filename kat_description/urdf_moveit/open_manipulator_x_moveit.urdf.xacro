<?xml version="1.0"?>
<robot name="open_manipulator_x" xmlns:xacro="http://ros.org/wiki/xacro">

  <!-- ===== Args (MoveIt에서는 prefix 비우는 걸 권장) ===== -->
  <xacro:arg name="prefix" default=""/>
  <!-- 아래 인자들은 MoveIt에서 직접 쓰진 않지만, 포함해도 무해 -->
  <xacro:arg name="use_sim" default="false"/>
  <xacro:arg name="use_fake_hardware" default="false"/>
  <xacro:arg name="fake_sensor_commands" default="false"/>
  <xacro:arg name="port_name" default="/dev/ttyUSB0"/>
  <xacro:arg name="ros2_control_type" default="open_manipulator_x"/>

  <!-- ===== Include: 순수 기구 모델만 포함 (Gazebo/ros2_control 제외) ===== -->
  <!-- ROS 2 권장: $(find-pkg-share ...) 사용 -->
  <xacro:include filename="../urdf/open_manipulator_x/open_manipulator_x_arm.urdf.xacro"/>
  <!-- ===== Instantiate robot (gazebo/system 매크로 호출하지 않음) ===== -->
  <xacro:open_manipulator_x prefix="$(arg prefix)"/>

  <!-- ===== 주의: MoveIt 용이라 world 링크/고정 조인트, gazebo 플러그인, ros2_control 전부 제거 ===== -->
  <!-- 루트 링크는 open_manipulator_x_arm.urdf.xacro 안의 첫 링크(보통 link1 또는 base_link)가 됨 -->

</robot>

